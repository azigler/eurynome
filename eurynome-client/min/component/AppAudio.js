"use strict";function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,s){for(var i=0;i<s.length;i++){var n=s[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,s,i){return s&&_defineProperties(e.prototype,s),i&&_defineProperties(e,i),e}var fs=require("fs"),m=require("mithril");module.exports=function(){function e(){var s=this;_classCallCheck(this,e),this.id="AppAudio",window.$eu.music=new Map,window.$eu.sfx=new Map,window.$eu.music.getRandom=function(){var e=window.$eu.music.size;return Array.from(window.$eu.music)[Math.floor(Math.random()*e)][1]},window.$eu.music.stop=function(){window.$eu.music.forEach(function(e){e.pause()})},this.musicPath=process.env.DEVELOPMENT?"./asset/music":"".concat(process.resourcesPath,"/app.asar/asset/music/"),this.sfxPath=process.env.DEVELOPMENT?"./asset/sfx":"".concat(process.resourcesPath,"/app.asar/asset/sfx/");var i=fs.readdirSync(this.musicPath),n=fs.readdirSync(this.sfxPath);i.map(function(e){var i=new window.Audio("".concat(s.musicPath,"/").concat(e));i.volume=.1,window.$eu.music.set(e.split(".")[0],i)}),n.map(function(e){var i=new window.Audio("".concat(s.sfxPath,"/").concat(e));i.volume=.1,window.$eu.sfx.set(e.split(".")[0],i)}),window.$eu.music.getRandom(),window.$eu.music.getRandom(),window.$eu.music.getRandom(),window.$eu.music.getRandom()}return _createClass(e,[{key:"view",value:function(){}}]),e}();